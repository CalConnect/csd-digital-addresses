
== Process of address profile and address instance interchange

=== Address profile registry

==== General

This address profile registry follows the requirements specified in
<<ISO19135-1>>, and additional requirements specified in this standard.

==== Roles and responsibilities in the management of an address profile registry

The roles and responsibilities of the register owner, register manager, submitting organizations,
control body, registry manager and register user are set out in <<ISO19135-1>>.

===== Additional requirements to <<ISO19135-1>>

* Historical records of address profiles shall be retained and publicly
available in the registry.

==== Management rules and procedures of an address profile registry

===== Introduction

The address profile registry will be managed with a version control software
such as Git, and publicly available with an API and/or a graphical user
interface such as a web-based interface to satisfy use cases of programatic
use of a software application and human review for the general public.

Rules for managing a register of address profiles, including the submission
of information, are found in <<ISO19160-1>>, Clause 6.

==== Address profile register content requirements

===== Address profile register content from <<ISO19135-1>>

The address profile register shall conform to the register schema in
<<ISO19135-1>>, Clause 7.

===== Address profile register content from this standard

The address profile register shall container address profile data that conform
to the address profile schema as specified in UML in this standard.

=== Address profiles

==== General

.Lifecycle of an interchange address profile
image::images/png/AddressProfileStates!AddressProfileLifeCycle_10.png[]

==== Creating interchange address profiles

Address profiles that comply with <<ISO19160-1,annex B>> and
<<ISO19106>> Conformance class 1 are converted into interchange
address profiles in accordance with requirements specified in
<<ix-address-profile>>.


==== Publishing interchange address profiles

Publishers distribute their interchange address profile to others
through direct exchange or through a registry.

==== Updating interchange address profiles

Publishers can update an interchange address profile and re-distribute it by
publishing using a new version number that supersedes the previously
published one.

==== Using interchange address profiles

Applications retrieve suitable interchange address profiles to:

* render address input forms according to the
profile-specified form template; or

* display addresses according to the profile-specified display template.

Applications shall consider the validity period of an interchange address profile,
and shall periodically check with the publisher (or a registry that
the publisher distributes via) the latest version of the address
profile.

==== Retiring interchange address profiles

Publisher can indicate the validity period of an interchange address profile in the
profile itself, which if the validity end date has passed, would indicate
that the profile is retired.

To immediately retire an interchange address profile, the publisher shall
distribute a new version of the address profile with an expired
validity period.

=== Address instances

==== General

.Lifecycle of an interchange address instance
image::images/png/AddressInstanceStates!AddressInstanceLifeCycle_11.png[]

==== Creating an interchange address instance

This section describes how an interchange address instance is created. The desired
interchange address profile shall be already retrieved for creating an interchange address
instance that conforms to it.

Typically, a user enters an address through an application interface
that implements an input format that conforms to the interchange address profile's
form template, such as an application that runs on an operating system
or an Internet application. Such input interface may or may not provide
a graphical form.

Conforming applications should not expect general users to be able to
input an address with a fully-deduced structure. Immediately after
input no capabilities are marked on the interchange address instance.

==== Interchange of an interchange address instance

After a user inputs an address into a structured address form, the user
submits this address to the designated recipient, which could be an
e-retailer, an electronic business card, or a calendar event.

==== Displaying an interchange address instance

The recipient or service that receives an interchange address instance either
already has the interchange address profile or should obtain the interchange address
profile definition. With the interchange address profile, it could then
display the interchange address instance according to the address profile's
display template.

==== Adding address capabilities

===== Improving quality of an interchange address instance

The recipient or service could process the address, such as to further
clean up the address by improving the conformance level by fully
deducing the address structure, which would add an address capability
"https://standards.iso.org/19160/-6/capabilities/specified" to the
address instance.

To ensure that the resulting interchange address instance with a fully-specified
structure is correct, the processor may wish to confirm with the user
the resulting address, such as in the case where the address is used
for shipping information. This would add the `AddressCapability`
"https://standards.iso.org/19160/-6/capabilities/confirmed" to the
address instance.

===== Verifying an interchange address instance

The recipient or service could further validate the address, such as
with a postal or addressing authority. This would add the
`AddressCapability` "https://verifyingauthority/verified" to the interchange address
instance written by the verifying authority.

==== Adding associated data to an interchange address instance

A processor of an interchange address instance could add extra information such as
delivery instructions or routes as associated data.

If the user already has a verified, structured address, then the
service could save the effort for verifying the address. Custom
address capabilities could be added into the interchange address instance.

==== Discarding an interchange address instance

When a service no longer needs the address, it should be disposed of.
